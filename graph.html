<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>matt - graph</title>
	<meta name="description" content="mqtt Home Automation Dashboard">
	<meta name="author" content="Marco Koch">

	<meta name="viewport" content="width=device-width,initial-scale=1">

	<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.0/mqttws31.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.2/d3.min.js"></script>
  <script src="graph.js"></script>
  <style>
  .line {
    fill: none;
    stroke: #b44646;
    stroke-width: 2px;
  }
  </style>
</head>
<body>

<script>


var graphs = [];

graphs.push(new Graph("xbee/volt", 1200, 300));
graphs.push(new Graph("vw/temp/1", 1200, 300));
graphs.push(new Graph("vw/temp/2", 1200, 300));
graphs.push(new Graph("vw/hum/1", 1200, 300));
graphs.push(new Graph("vw/hum/2", 1200, 300));
graphs.push(new Graph("xbee/hum", 1200, 300));
graphs.push(new Graph("xbee/temp", 1200, 300));

var randomNummber = Math.floor((Math.random() * 100) + 1);
client = new Paho.MQTT.Client("172.16.0.70", 80, "matt-" + randomNummber);

client.onConnectionLost = onConnectionLost;
client.onMessageArrived = onMessageArrived;

client.connect({onSuccess:onConnect});

</script>

</body>
</html>
